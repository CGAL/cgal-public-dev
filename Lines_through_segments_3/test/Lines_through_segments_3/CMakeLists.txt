project( Lines_through_segments_3_ )

cmake_minimum_required(VERSION 2.6.2)
if("${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" VERSION_GREATER 2.6)
  if("${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}.${CMAKE_PATCH_VERSION}" VERSION_GREATER 2.8.3)
    cmake_policy(VERSION 2.8.4)
  else()
    cmake_policy(VERSION 2.6)
  endif()
endif()

find_package(CGAL QUIET COMPONENTS Core Qt4)

enable_testing()

if ( CGAL_FOUND )

  include( ${CGAL_USE_FILE} )
  include(${QT_USE_FILE})

  include( CGAL_CreateSingleSourceCGALProgram )

  include_directories (BEFORE "../../include")

  # create_single_source_cgal_program( "lines_through_4_polytopes.cpp" )
  create_single_source_cgal_program( "lines_through_4_segments.cpp" )
  create_single_source_cgal_program( "rat_func_traits.cpp" )

  add_test(lts1 lines_through_4_segments test_cases/8_segs_2_triangles.tst flip)
  add_test(lts2 lines_through_4_segments test_cases/4_segs_concurrent.tst run_perm)
  add_test(lts3 lines_through_4_segments test_cases/8_segs_all_overlap.tst flip)
  add_test(lts4 lines_through_4_segments test_cases/4_segs_2_on_the_same_supporting_line.tst run_perm)
  add_test(lts5 lines_through_4_segments test_cases/4_segs_3_intersect.tst flip)
  add_test(lts6 lines_through_4_segments test_cases/4_segs_triangle.tst run_perm)
  add_test(lts7 lines_through_4_segments test_cases/8_segs_3_concurrent.tst flip)
  add_test(lts8 lines_through_4_segments test_cases/4_segs_point_on_sphere.tst flip)
  add_test(lts9 lines_through_4_segments test_cases/4_segs_point_on_sphere2.tst flip)
  add_test(lts10 lines_through_4_segments test_cases/4_segs_common_end_point.tst flip)
  add_test(lts11 lines_through_4_segments test_cases/8_lines_at_example.tst flip)
  add_test(lts12 lines_through_4_segments test_cases/4_segs_0_output_lines.tst run_perm)
  add_test(lts13 lines_through_4_segments test_cases/4_segs_1_output_line.tst run_perm)
  add_test(lts14 lines_through_4_segments test_cases/4_segs_2_output_lines.tst run_perm)
  add_test(lts15 lines_through_4_segments test_cases/4_segs_intersections.tst run_perm)
  add_test(lts16 lines_through_4_segments test_cases/5_segs_parallel.tst run_perm)
  add_test(lts17 lines_through_4_segments test_cases/4_segs_split_face1.tst run_perm)
  add_test(lts18 lines_through_4_segments test_cases/4_segs_split_face2.tst run_perm)
  add_test(lts19 lines_through_4_segments test_cases/4_segs_split_face3.tst run_perm)
  add_test(lts20 lines_through_4_segments test_cases/4_segs_split_face4.tst run_perm)
  add_test(lts21 lines_through_4_segments test_cases/4_segs_split_face5.tst run_perm)
  add_test(lts22 lines_through_4_segments test_cases/4_segs_split_face6.tst run_perm)
  add_test(lts23 lines_through_4_segments test_cases/4_segs_split_face7.tst run_perm)
  add_test(lts24 lines_through_4_segments test_cases/4_segs_split_face8.tst run_perm)
  add_test(lts25 lines_through_4_segments test_cases/4_segs_split_face9.tst flip)
  add_test(lts26 lines_through_4_segments test_cases/4_segs_split_face10.tst flip)
  add_test(lts27 lines_through_4_segments test_cases/4_segs_split_face11.tst flip)
  add_test(lts28 lines_through_4_segments test_cases/4_segs_split_face12.tst flip)
  add_test(lts29 lines_through_4_segments test_cases/4_segs_split_face13.tst flip)
  add_test(lts30 lines_through_4_segments test_cases/4_segs_split_face14.tst run_perm)
  add_test(lts31 lines_through_4_segments test_cases/4_segs_split_face15.tst run_perm)
  add_test(lts32 lines_through_4_segments test_cases/4_segs_split_face16.tst run_perm)
  add_test(lts33 lines_through_4_segments test_cases/4_segs_split_face17.tst run_perm)
  add_test(lts34 lines_through_4_segments test_cases/4_segs_split_face18.tst run_perm)
  add_test(lts35 lines_through_4_segments test_cases/4_segs_split_face19.tst run_perm)
  add_test(lts36 lines_through_4_segments test_cases/4_segs_split_face20.tst run_perm)
  add_test(lts37 lines_through_4_segments test_cases/4_segs_split_face21.tst run_perm)
  add_test(lts38 lines_through_4_segments test_cases/4_segs_split_face22.tst run_perm)
  add_test(lts39 lines_through_4_segments test_cases/4_segs_split_face23.tst run_perm)
  add_test(lts40 lines_through_4_segments test_cases/4_segs_split_intersect_point.tst run_perm)
  add_test(lts41 lines_through_4_segments test_cases/14_lines.tst flip)
  add_test(lts42 lines_through_4_segments test_cases/11_lines_2_parallel.tst flip)
  add_test(lts43 lines_through_4_segments test_cases/20_lines.tst flip)
  add_test(lts44 lines_through_4_segments test_cases/20_lines_with_points.tst flip)
  add_test(lts45 lines_through_4_segments test_cases/4_lines_2P_2I.tst run_perm)
  add_test(lts46 lines_through_4_segments test_cases/4_lines_L3_z2_equals_to_0.tst run_perm)
  add_test(lts47 lines_through_4_segments test_cases/4_lines_L3_z2_equals_to_0_2.tst run_perm)
  add_test(lts48 lines_through_4_segments test_cases/6_lines_hyp_tangent_at_0_1.tst run_perm)
  add_test(lts49 lines_through_4_segments test_cases/6_lines_parallel.tst run_perm)
  add_test(lts50 lines_through_4_segments test_cases/4_lines_t_is_constant.tst run_perm)
  add_test(lts51 lines_through_4_segments test_cases/4_lines_t_is_constant2.tst run_perm)
  add_test(lts52 lines_through_4_segments test_cases/4_lines_L1IL4_L2IL3.tst run_perm)
  add_test(lts53 lines_through_4_segments test_cases/4_lines_1Point.tst run_perm)
  add_test(lts54 lines_through_4_segments test_cases/4_lines_L3_contains_P1_P2.tst flip)
  add_test(lts55 lines_through_4_segments test_cases/4_lines_2points.tst flip)
  add_test(lts56 lines_through_4_segments test_cases/6_lines_2_on_the_same_supporting_line.tst flip )
  add_test(lts57 lines_through_4_segments test_cases/6_lines_L3_intersects_both_L1_L2.tst run_perm )
  add_test(lts58 lines_through_4_segments test_cases/4_lines_3_on_the_same_plane.tst run_perm)
  add_test(lts59 lines_through_4_segments test_cases/4_lines_3_on_the_same_plane2.tst run_perm)
  add_test(lts60 lines_through_4_segments test_cases/4_lines_3_on_the_same_plane3.tst run_perm)
  add_test(lts61 lines_through_4_segments test_cases/4_lines_4_lines_at_the_same_plane1.tst run_perm)
  add_test(lts62 lines_through_4_segments test_cases/4_lines_find_face1.tst run_perm)
  add_test(lts63 lines_through_4_segments test_cases/4_lines_find_face2.tst run_perm)
  add_test(lts64 lines_through_4_segments test_cases/4_lines_find_face3.tst run_perm)
  add_test(lts65 lines_through_4_segments test_cases/4_lines_find_face4.tst run_perm)
  add_test(lts66 lines_through_4_segments test_cases/4_lines_find_face5.tst run_perm)
  add_test(lts67 lines_through_4_segments test_cases/4_lines_find_face6.tst run_perm)
  add_test(lts68 lines_through_4_segments test_cases/4_lines_find_face7.tst run_perm)
  add_test(lts69 lines_through_4_segments test_cases/4_lines_find_face8.tst run_perm)
  add_test(lts70 lines_through_4_segments test_cases/4_lines_find_face9.tst run_perm)
  add_test(lts71 lines_through_4_segments test_cases/4_lines_find_face10.tst run_perm)
  add_test(lts72 lines_through_4_segments test_cases/4_lines_find_face11.tst run_perm)
  add_test(lts73 lines_through_4_segments test_cases/4_lines_find_face12.tst run_perm)
  add_test(lts74 lines_through_4_segments test_cases/4_lines_find_face_lines1.tst run_perm)
  add_test(lts75 lines_through_4_segments test_cases/4_lines_find_face_lines2.tst run_perm)
  add_test(lts76 lines_through_4_segments test_cases/4_lines_find_face_lines3.tst run_perm)
  add_test(lts77 lines_through_4_segments test_cases/4_lines_find_face_lines4.tst run_perm)
  add_test(lts78 lines_through_4_segments test_cases/4_lines_find_face_lines5.tst run_perm)
  add_test(lts79 lines_through_4_segments test_cases/4_lines_find_face_lines6.tst run_perm)
  add_test(lts80 lines_through_4_segments test_cases/4_lines_find_face_lines7.tst run_perm)
  add_test(lts81 lines_through_4_segments test_cases/4_lines_find_face_lines8.tst run_perm)
  add_test(lts82 lines_through_4_segments test_cases/4_lines_find_face_lines9.tst run_perm)
  add_test(lts83 lines_through_4_segments test_cases/4_lines_find_face_lines10.tst run_perm)
  add_test(lts84 lines_through_4_segments test_cases/4_lines_find_face_lines11.tst run_perm)
  add_test(lts85 lines_through_4_segments test_cases/4_lines_find_face_lines12.tst run_perm)
  add_test(lts86 lines_through_4_segments test_cases/4_lines_find_face_lines13.tst run_perm)
  add_test(lts87 lines_through_4_segments test_cases/4_lines_find_face_lines14.tst run_perm)
  add_test(lts88 lines_through_4_segments test_cases/4_lines_find_face_lines15.tst run_perm)
  add_test(lts89 lines_through_4_segments test_cases/4_lines_find_face_lines16.tst run_perm)
  add_test(lts90 lines_through_4_segments test_cases/6_lines_dup_iso_points.tst flip)
  add_test(lts91 lines_through_4_segments test_cases/4_lines_2_intersect2.tst run_perm)
  add_test(lts92 lines_through_4_segments test_cases/4_lines_2intersect3.tst run_perm)
  add_test(lts93 lines_through_4_segments test_cases/4_lines_2intersect4.tst run_perm)
  add_test(lts94 lines_through_4_segments test_cases/21_lines.tst flip)
else()
  message(STATUS "This program requires the CGAL library, and will not be compiled.")
endif()

